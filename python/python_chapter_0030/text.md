# Глава 3. Объявление переменных, оператор моржа

Разберем, как создавать и присваивать переменные. Обсудим появившийся в версии питона 3.8 оператор присваивания выражения, также известный как оператор моржа.

## Объявление переменных
При объявлении переменной тип не указывается:

```python
height = 1.78
```

Но бывают случаи, когда нужно завести переменную и инициализировать значением по умолчанию. Для этого после оператора присваивания вызывается конструктор типа:

```python
height = float()
print(height)
```
```
0.0
```

0.0 — дефолтное значение для `float`. Дефолтными значениями для целого, булевой переменной и какого-либо контейнера будут соответственно 0, `False` и пустой контейнер.

Явный вызов конструктора используется редко. Но если к нему прибегают, то чаще всего не для простых типов данных, а для контейнеров: [списков,](/courses/python/chapters/python_chapter_0110/) [словарей](/courses/python/chapters/python_chapter_0150/) и [множеств.](/courses/python/chapters/python_chapter_0140/) Например, так выглядит заведение пустого множества: `users = set()`.


А как быть с **константами?** В питоне их нет! Вместо констант — [распространенное соглашение](https://peps.python.org/pep-0008/#constants) код-стайла: переменные, предназначенные только для чтения, именовать заглавными буквами: {#block-consts}

```python
HEIGHT = 1.78
WIDTH = 0.5
```

Чисто технически ничто не остановит программиста от модификации такой переменной. Сохраняйте бдительность!

Заведите константу `API_URL`, равную строке `"https://api.senjun.dev.ru"`. {.task_text}

```python  {.task_source #python_chapter_0030_task_0010}
```
```{.task_hint}
API_URL = "https://api.senjun.dev.ru"
```

## Оператор моржа {#block-walrus}
Оператор моржа (walrus) — неофициальное название для присваивания значения переменной в выражении. Оператор имеет вид морды отдыхающего на боку моржа `:=` и отличается от классического оператора `=` тем, что не только присваивает значение, но и возвращает его. За счет эффекта «два в одном» он делает код более лаконичным, а в каких-то случаях позволяет его ускорить.

Рассмотрим пример:

```python
res = calc_next_val()

while res >= 0:
    print("Next iteration of calculation...", res)
    res = calc_next_val()
```

Переменной `res` на строке 1, а затем и в цикле `while` присваивается результат, который возвращает функция `calc_next_val()`. Если заменить присваивание на оператор моржа, мы избавимся от дублирования вызова функции `calc_next_val()` и сократим код:

```python
while (res := calc_next_val()) >= 0:
    print("Next iteration of calculation...", res)
```

Перепишите условие с использованием оператора моржа. {.task_text}

```python {.task_source #python_chapter_0030_task_0020}
title = "The walrus operator"
words_count = len(title.split())

if words_count > 10:
    print("Too many words in paragraph title:", words_count)
else:
    print("Paragraph title is suitable. Words count:", words_count)

```
```{.task_hint}
if (words_count := len(title.split())) > 10
```

## Резюмируем
- Варианты объявления переменной: `x = 0`, `x = int()`.
- Оператор моржа `:=` совмещает присваивание значения переменной с возвратом этого значения. Позволяет сократить объем кода и в отдельных случаях оптимизировать работу программы.
- Констант в питоне нет. Но есть джентльменское соглашение именовать предназначенные только для чтения переменные заглавными буквами: `TARGET_PATH="/tmp/data"`.
